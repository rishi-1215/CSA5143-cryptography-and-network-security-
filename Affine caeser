#include <stdio.h>
#include <ctype.h>


char encrypt_affine_caesar(char plain_char, int a, int b) {
    if (isalpha(plain_char)) {
        char base = islower(plain_char) ? 'a' : 'A';
        return (a * (plain_char - base) + b) % 26 + base;
    }
    return plain_char;
}

int main() {
    char plaintext[100];
    int a, b;

    printf("Enter plaintext: ");
    fgets(plaintext, sizeof(plaintext), stdin);

    printf("Enter value of a: ");
    scanf("%d", &a);

    printf("Enter value of b: ");
    scanf("%d", &b);

    
    if (strlen(plaintext) > 0 && plaintext[strlen(plaintext) - 1] == '\n') {
        plaintext[strlen(plaintext) - 1] = '\0';
    }

    printf("Ciphertext: ");
    for (int i = 0; plaintext[i] != '\0'; i++) {
        printf("%c", encrypt_affine_caesar(plaintext[i], a, b));
    }
    printf("\n");

    return 0;
}
